---
import type { LocationCardProps } from '../../types';

interface Props extends LocationCardProps {}

const { name, address, embedUrl, directionsUrl } = Astro.props as Props;
---

<div class="column is-6">
    <div
        class="box has-background-light location-card"
        style="border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); height: 100%; display: flex; flex-direction: column;"
    >
        <div style="margin-bottom: 1rem;">
            <h3
                class="title is-4"
                style="color: var(--isho-dark-pink); margin-bottom: 0.5rem;"
            >
                <i class="fas fa-map-marker-alt" style="margin-right: 0.5rem;"></i>
                {name}
            </h3>
            <p style="color: #666; margin-bottom: 1rem;">
                <i class="fas fa-location-dot" style="margin-right: 0.5rem; color: var(--isho-dark-pink);"></i>
                {address}
            </p>
        </div>
        <div
            class="map-container"
            style="flex: 1; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
        >
            <iframe
                src={embedUrl}
                width="100%"
                height="100%"
                style="border: 0; min-height: 300px;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title={`Mapa de ubicaciÃ³n de ${name}`}
            ></iframe>
        </div>
        <div style="margin-top: 1rem;">
            <a
                href={directionsUrl || `https://maps.google.com/?q=${encodeURIComponent(name + " " + address)}`}
                target="_blank"
                rel="noopener noreferrer"
                class="button is-fullwidth"
                style="background: linear-gradient(135deg, var(--isho-teal) 0%, var(--isho-pink) 100%); color: white; border: none; border-radius: 8px; font-weight: 600; transition: transform 0.2s ease, box-shadow 0.2s ease;"
                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.2)';"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';"
            >
                <i class="fas fa-directions" style="margin-right: 0.5rem;"></i>
                Obtener Direcciones
            </a>
        </div>
    </div>
</div>

<style>
    .location-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .location-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
    }

    .map-container {
        position: relative;
    }

    @media screen and (max-width: 768px) {
        .column {
            margin-bottom: 2rem;
        }
    }
</style>
